<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: CLI | FredLawl's Blog]]></title>
  <link href="http://fredlawl.github.io/articles/categories/cli/atom.xml" rel="self"/>
  <link href="http://fredlawl.github.io/"/>
  <updated>2014-04-24T18:18:55-05:00</updated>
  <id>http://fredlawl.github.io/</id>
  <author>
    <name><![CDATA[Frederick Lawler]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[PHP &amp; Homebrew]]></title>
    <link href="http://fredlawl.github.io/article/php-and-homebrew/"/>
    <updated>2014-04-24T17:31:08-05:00</updated>
    <id>http://fredlawl.github.io/article/php-and-homebrew</id>
    <content type="html"><![CDATA[<p>Installing and managing your local machine via homebrew can be a daunting
process for some. One minute all is well in the neighborhood, and the next
moment&mdash;complete disaster. The disaster strikes when trying to set things up for
the project you are going to work on the following morning. Hopefully, this blog
post will be of use for some, as it may reduce some headaches when setting up
your environment.</p>

<!-- more -->


<h3>Assumptions</h3>

<ol>
<li>Homebrew is already installed on your machine (if not see <a href="http://brew.sh/">Homebrew</a></li>
<li>You are familiar with MacOSX CLI (Terminal)</li>
<li>You wish to not use MacOSX bundled PHP</li>
<li>You are using Apache</li>
<li>You wish to install mcrypt, and imagemagick</li>
</ol>


<h2>Installing PHP</h2>

<p>Taken from <a href="https://github.com/Homebrew/homebrew-php#installation">homebrew-php</a>:</p>

<ol>
<li>Type in <code>brew update</code></li>
<li>Type in <code>brew upgrade</code></li>
<li>Type in <code>brew tap homebrew/dupes</code></li>
<li>Type in <code>brew tap homebrew/versions</code></li>
<li>Type in <code>brew tap homebrew/homebrew-php</code></li>
</ol>


<p>After those commands have been typed in, we are ready for installing PHP.
I am a fan of PHP 5.4 because PHP 5.5 has compatibility issues with MySQL
(due to the deprecation of MySQL but that is beyond the scope of this post).</p>

<h3>PHP</h3>

<p>Type in <code>brew install php54</code> to being the downloading/compiling process. This
may take a quick minute. But once that is done, PHP has been installed and is
at it&rsquo;s latest release. In the time of this article it is version 5.4.27.</p>

<p>After the compiling has completed you need to add PHP to your path. This will
ensure that when we run PHP it&rsquo;ll use homebrew&rsquo;s version. To do this, add this
line to your ~/.profile or ~/.bash_profile or which ever dot file adds paths
to your shell. <code>export PATH="$(brew --prefix php55)/bin:$PATH"</code></p>

<p>You can verify your installation by typing <code>php -v</code> into terminal. You should
see output similar to:</p>

<p><code>
PHP 5.4.27 (cli) (built: Apr 23 2014 22:13:51)
Copyright (c) 1997-2014 The PHP Group
Zend Engine v2.4.0, Copyright (c) 1998-2014 Zend Technologies
</code></p>

<h2>Apache</h2>

<p>In order for your PHP to work on your local machine, you need to setup Apache
to load the php5 module. To do this type the following into terminal:</p>

<p><code>
$ sudo nano /etc/apache2/httpd.conf
</code>
(If you don&rsquo;t have nano installed, you can type <code>brew install nano</code> first. If
you are a savy-tech, you can use sublime text 2 or w/e editor you prefer.)</p>

<p>Find the line that says, <code>LoadModule php5_module libexec/apache2/libphp5.so</code>.
Prepend that line with a &lsquo;#&rsquo; so it looks like this: <code># LoadModule php5_module libexec/apache2/libphp5.so</code>. And then add <code>LoadModule php5_module /usr/local/opt/php54/libexec/apache2/libphp5.so</code> underneeth. This will load the
PHP 5.4 module into Apache.</p>

<blockquote><p>Note: If you wish to install previous or future versions of PHP that line needs
to be replaced. For example, had I installed php55 via brew, I would make that line:
LoadModule php5_module /usr/local/opt/<strong>php55</strong>/libexec/apache2/libphp5.so</p></blockquote>

<p>Save the file.</p>

<p>Type <code>sudo apachectl -e info -k restart</code> to ensure Apache does a full restart,
and present you with a message saying so (in case any errors occurred)</p>

<p>Then verify Apache machine has the correct PHP installed. Google how to do
that if you do not know how.</p>

<h2>Packages</h2>

<p>A lot of applications utilize packages that PHP does not inherently come with
out of the box. MCrypt and IMagick are popular scripts that are used.</p>

<h3>MCrypt</h3>

<p>To install type, <code>brew install php54-mcrypt</code>. After that is done, verify it has
been installed by typing <code>php -i | grep mcrypt</code>. This will output verifying
whether the package has been installed. Restart Apache (look above).</p>

<h3>ImageMagick</h3>

<p>This package is a little bit more comprehensive because ImageMagick needs to be
installed first before, the PHP module can be installed.</p>

<p>Type, <code>brew install imagemagick</code>. Then after the install type, <code>brew install php54-imagick</code>. If all goes well, PHP IMagick mod will be installed. Verify with
<code>php -i | grep imagick</code>. Restart Apache.</p>

<h2>Done!</h2>

<p>After everything has been completed, your environment will have everything it
needs to be 100% managed by homebrew. To install other PHP packages, just simply
type <code>brew search php54</code> to see all the available packages. :)</p>
]]></content>
  </entry>
  
</feed>
